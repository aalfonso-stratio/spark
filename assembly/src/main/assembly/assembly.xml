<!--

    © 2017 Stratio Big Data Inc., Sucursal en España. All rights reserved

    This software is a modification of the original software Apache Spark licensed under the Apache 2.0
    license, a copy of which is below. This software contains proprietary information of
    Stratio Big Data Inc., Sucursal en España and may not be revealed, sold, transferred, modified, distributed or
    otherwise made available, licensed or sublicensed to third parties; nor reverse engineered, disassembled or decompiled,
    without express written authorization from Stratio Big Data Inc., Sucursal en España.

-->
<assembly>
  <id>dist</id>
  <formats>
    <format>tar.gz</format>
    <format>dir</format>
  </formats>
  <includeBaseDirectory>false</includeBaseDirectory>

  <fileSets>
    <fileSet>
      <includes>
        <include>README</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>
        ${project.parent.basedir}/core/src/main/resources/org/apache/spark/ui/static/
      </directory>
      <outputDirectory>ui-resources/org/apache/spark/ui/static</outputDirectory>
      <includes>
        <include>**/*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>
        ${project.parent.basedir}/sbin/
      </directory>
      <outputDirectory>sbin</outputDirectory>
      <includes>
        <include>**/*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>
        ${project.parent.basedir}/bin/
      </directory>
      <outputDirectory>bin</outputDirectory>
      <includes>
        <include>**/*</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>
        ${project.parent.basedir}/assembly/target/${spark.jar.dir}
      </directory>
      <outputDirectory></outputDirectory>
      <includes>
        <include>${spark.jar.basename}</include>
      </includes>
    </fileSet>
  </fileSets>

  <dependencySets>
    <dependencySet>
      <includes>
        <include>org.apache.spark:*:jar</include>
      </includes>
      <excludes>
        <exclude>org.apache.spark:spark-assembly:jar</exclude>
      </excludes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>lib</outputDirectory>
      <useTransitiveDependencies>true</useTransitiveDependencies>
      <unpack>false</unpack>
      <scope>runtime</scope>
      <useProjectArtifact>false</useProjectArtifact>
      <excludes>
        <exclude>org.apache.hadoop:*:jar</exclude>
        <exclude>org.apache.spark:*:jar</exclude>
        <exclude>org.apache.zookeeper:*:jar</exclude>
        <exclude>org.apache.avro:*:jar</exclude>
      </excludes>
    </dependencySet>
  </dependencySets>

</assembly>
